# Инструкция по запуску мобильного приложения VK Video

## 1. Клонирование проекта 
Необходимо клонировать проект на свой компьютер:
```sh

git clone https://github.com/Averkieva/MusicAvito.git
```
## 2. Как открыть проект
- Откройте приложение **Android Studio** 
- Выберите **“Open an Existing Project”** и укажите папку с проектом.
- Необходимая версия: JDK 17
## 3. Как запустить VK Video 
- Подключите эмулятор/реальное устройство, у которого minSdk = 24
- Это приложение использует [Pexels API](https://www.pexels.com/api/) для загрузки популярных видео.
  1. Получите Pexels API Key
  2. Зарегистрируйтесь на [Pexels](https://www.pexels.com/api/).
  3. Создайте API Key (он бесплатный).
  4. Добавьте `secrets.xml` в модуле feature_video_list
  5. Пропишите  <string name="youtube_api_key" translatable="false">Ваш API_KEY</string>
- Перейдите в модуль app
- Запустите приложение через **"Run"** в Android Studio 

## Функциональность и технологии, используемые в проекте
- LiveData
- ViewModel
- Koin
- OkHttp
- Retrofit
- Gson
- ExoPlayer
- Glide
- Room
- Coroutines
- ViewBinding
- LifeCycle
- Fragment

# Проблемы при разработке приложения

## 1. API
Сначала использовала Youtube API, но так как там нельзя корректно использовать свой плеер (только переключение на приложение ютуба) пришлось менять на Pexels API

## 2. Тестирование
Никогда не писала тесты, поэтому не успела их реализовать

## 3. VPN
Для корректной работы приложения необходимо включить на Android-е VPN (не сразу узнала об этом, у ютуба так же было)

# Описание функционала приложения

В VK Video есть главный экран списка видео: если поисковой запрос пустой, показываются топовые видео, иначе те, что соотносятся с поисковым запросом пользователя. 
Добавлена обработка ошибок:
- отсутствие интернета
- некорректный запрос
- ошибка сервера
- неизвестная ошибка
Если пользователь очищает поисковой запрос - показываются топовые видео
У каждого видео есть:
- название
- автор
- длительность
Реализована обработка клавиатуры, если пользователь крутит список - она исчезает.
Добавлена пагинация и обновление списка с помощью SwipeRefreshLayout
Если нет интернета, будут прогружаться последние видео (реализовано кэширование видео)
При нажатии на видео открывается плеер. В левом верхнем углу расположена кнопка назад, пользователь попадает на экран со списком видео. На плеере находятся пять контроллеров и SeekBar:
- кнопка play/pause
- кнопка вперед и назад на 5 секунд
- кнопка следующее и предыдущее видео
Реализован поворот экрана - пользователь может смотреть видео как в портретном, так и в ландшафтном режимах.

